# üìã –§–ò–ù–ê–õ–¨–ù–´–ô –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô –° –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï–ú –¢–ò–ü–û–í

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

### –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –¥–ª—è `user_id`:
- **`users.id`** - —Ç–∏–ø `uuid` ‚úÖ
- **`widget_development_settings.user_id`** - —Ç–∏–ø `text` ‚ùå
- **–û—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã** - —Ç–∏–ø `uuid` ‚úÖ

## üîß –†–ï–®–ï–ù–ò–ï

### 1. **–ù–ï–ú–ï–î–õ–ï–ù–ù–û - –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö:**
```sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∫—Ä–∏–ø—Ç
–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_–¢–ò–ü–û–í_–î–ê–ù–ù–´–•_USER_ID.sql
```

### 2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã:**
```sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∫—Ä–∏–ø—Ç
–ü–†–û–í–ï–†–ö–ê_–¢–ò–ü–û–í_–î–ê–ù–ù–´–•_USER_ID.sql
```

## üéØ –ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–û–°–¢–¨ –î–ï–ô–°–¢–í–ò–ô

### –®–ê–ì 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
1. –í—ã–ø–æ–ª–Ω–∏—Ç—å `–ü–†–û–í–ï–†–ö–ê_–¢–ò–ü–û–í_–î–ê–ù–ù–´–•_USER_ID.sql`
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å `–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_–¢–ò–ü–û–í_–î–ê–ù–ù–´–•_USER_ID.sql`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –®–ê–ì 2: –ü—Ä–∏–º–µ–Ω–∏—Ç—å RLS –ø–æ–ª–∏—Ç–∏–∫–∏
1. –í—ã–ø–æ–ª–Ω–∏—Ç—å `–®–ê–ì_15_–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_WIDGET_DEVELOPMENT_SETTINGS_–§–ò–ù–ê–õ–¨–ù–´–ô.sql`
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å `–®–ê–ì_16_–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_TELEGRAM_SETTINGS_–ü–†–û–ï–ö–¢.sql`
3. –í—ã–ø–æ–ª–Ω–∏—Ç—å `–®–ê–ì_18_–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_KNOWLEDGE_SOURCES_–ë–ï–ó_–û–®–ò–ë–û–ö.sql`
4. –í—ã–ø–æ–ª–Ω–∏—Ç—å `–®–ê–ì_19_–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_KNOWLEDGE_CHUNKS_–ë–ï–ó_–û–®–ò–ë–û–ö.sql`

## üí° –í–ê–ñ–ù–û

### **–ü–æ—á–µ–º—É —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ:**
1. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Ç–∏–ø–æ–≤** - `uuid = text` –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏
2. **RLS –ø–æ–ª–∏—Ç–∏–∫–∏** - –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏
3. **JOIN –æ–ø–µ—Ä–∞—Ü–∏–∏** - –ø–∞–¥–∞—é—Ç —Å –æ—à–∏–±–∫–∞–º–∏
4. **API –∑–∞–ø—Ä–æ—Å—ã** - –º–æ–≥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è

### **–†–µ—à–µ–Ω–∏–µ:**
1. **–ü—Ä–∏–≤–µ—Å—Ç–∏ –≤—Å–µ –∫ `uuid`** - –µ–¥–∏–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç
2. **–£–±—Ä–∞—Ç—å –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤** –∏–∑ RLS –ø–æ–ª–∏—Ç–∏–∫
3. **–û–±–µ—Å–ø–µ—á–∏—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** –≤–æ –≤—Å–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

## üöÄ –ì–û–¢–û–í–´–ï –°–ö–†–ò–ü–¢–´

### 1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤:**
- `–ü–†–û–í–ï–†–ö–ê_–¢–ò–ü–û–í_–î–ê–ù–ù–´–•_USER_ID.sql`

### 2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤:**
- `–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_–¢–ò–ü–û–í_–î–ê–ù–ù–´–•_USER_ID.sql`

### 3. **RLS –ø–æ–ª–∏—Ç–∏–∫–∏ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ):**
- `–®–ê–ì_15_–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_WIDGET_DEVELOPMENT_SETTINGS_–§–ò–ù–ê–õ–¨–ù–´–ô.sql`
- `–®–ê–ì_16_–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_TELEGRAM_SETTINGS_–ü–†–û–ï–ö–¢.sql`
- `–®–ê–ì_18_–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_KNOWLEDGE_SOURCES_–ë–ï–ó_–û–®–ò–ë–û–ö.sql`
- `–®–ê–ì_19_–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_KNOWLEDGE_CHUNKS_–ë–ï–ó_–û–®–ò–ë–û–ö.sql`

## üìû –¢–†–ï–ë–£–ï–¢–°–Ø –î–ï–ô–°–¢–í–ò–ï

### **–°–ï–ô–ß–ê–°:**
1. –í—ã–ø–æ–ª–Ω–∏—Ç—å `–ü–†–û–í–ï–†–ö–ê_–¢–ò–ü–û–í_–î–ê–ù–ù–´–•_USER_ID.sql`
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å `–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_–¢–ò–ü–û–í_–î–ê–ù–ù–´–•_USER_ID.sql`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### **–ü–û–°–õ–ï –£–°–ü–ï–•–ê:**
1. –í—ã–ø–æ–ª–Ω–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ RLS —Å–∫—Ä–∏–ø—Ç—ã
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã
3. –£–±–µ–¥–∏—Ç—å—Å—è –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ—à–∏–±–æ–∫

## üéØ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

### **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –í—Å–µ `user_id` –∏–º–µ—é—Ç —Ç–∏–ø `uuid`
- ‚úÖ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ JOIN –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ API –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è
- ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö

**–≠—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã!** üö®
