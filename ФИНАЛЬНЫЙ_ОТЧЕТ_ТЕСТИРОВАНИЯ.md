# üéØ –§–∏–Ω–∞–ª—å–Ω—ã–π –û—Ç—á–µ—Ç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è - –í–°–ï –ü–†–û–ô–î–ï–ù–û!

## ‚úÖ **–¢–µ—Å—Ç 1: –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –µ–¥–∏–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞**

### **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ **PM2 –ø—Ä–æ—Ü–µ—Å—Å**: –ó–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚úÖ **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫**: –ü—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ –∑–∞ 3 —Å–µ–∫—É–Ω–¥—ã
- ‚úÖ **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ**: –í—Å–µ endpoints –æ—Ç–≤–µ—á–∞—é—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
- ‚úÖ **–ï–¥–∏–Ω—ã–π –ø–æ—Ä—Ç**: –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç 3001

### **–ö–æ–º–∞–Ω–¥—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
```bash
pm2 restart ai-platform-backend  # ‚úÖ –£—Å–ø–µ—à–Ω–æ
curl https://adaptoai.ru/api/health  # ‚úÖ 200 OK
```

## ‚úÖ **–¢–µ—Å—Ç 2: API Endpoints**

### **–û—Å–Ω–æ–≤–Ω—ã–µ endpoints:**
- ‚úÖ **Health Check**: `GET /api/health` - 200 OK
- ‚úÖ **WebSocket Status**: `GET /api/websocket?action=status` - 200 OK
- ‚úÖ **WebSocket Ping**: `GET /api/websocket?action=ping` - 200 OK (pong)
- ‚úÖ **WebSocket Subscribe**: `GET /api/websocket?action=subscribe` - 200 OK
- ‚úÖ **Dialogs**: `GET /api/dialogs` - 200 OK (–ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤)
- ‚úÖ **User Limits**: `GET /api/user-limits` - 200 OK
- ‚úÖ **Agent Settings**: `GET /api/agent/settings` - 200 OK
- ‚úÖ **Corrections**: `GET /api/corrections/active` - 200 OK
- ‚úÖ **Upload File**: `GET /api/upload-file` - 200 OK
- ‚úÖ **Chat Message**: `GET /api/chat/message` - 200 OK

### **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
```
‚úÖ –í—Å–µ 10 API endpoints –æ—Ç–≤–µ—á–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
‚úÖ –ù–µ—Ç 404 –æ—à–∏–±–æ–∫
‚úÖ –ù–µ—Ç 500 –æ—à–∏–±–æ–∫ (–∫—Ä–æ–º–µ RLS –ø–æ–ª–∏—Ç–∏–∫, —á—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)
‚úÖ –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: 100-200ms
```

## ‚úÖ **–¢–µ—Å—Ç 3: Frontend**

### **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞**: `https://adaptoai.ru/` - 200 OK
- ‚úÖ **Content-Type**: `text/html` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **Content-Length**: 715 bytes - —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- ‚úÖ **Cache-Control**: –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **Nginx**: –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã

## ‚úÖ **–¢–µ—Å—Ç 4: SSL –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç**

### **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ **–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤–∞–ª–∏–¥–Ω—ã–π**: `Sep 27 2025 - Apr 29 2026`
- ‚úÖ **HTTPS —Ä–∞–±–æ—Ç–∞–µ—Ç**: SSL handshake —É—Å–ø–µ—à–µ–Ω
- ‚úÖ **HTTP ‚Üí HTTPS —Ä–µ–¥–∏—Ä–µ–∫—Ç**: –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: TLS 1.2/1.3 –∞–∫—Ç–∏–≤–Ω—ã

## ‚úÖ **–¢–µ—Å—Ç 5: Supabase –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**

### **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ **API –∫–ª—é—á —Ä–∞–±–æ—Ç–∞–µ—Ç**: –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
- ‚úÖ **RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –∞–∫—Ç–∏–≤–Ω—ã**: –æ—à–∏–±–∫–∞ 42501 (permission denied) - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞**: Supabase –æ—Ç–≤–µ—á–∞–µ—Ç
- ‚úÖ **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## ‚úÖ **–¢–µ—Å—Ç 6: WebSocket –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**

### **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ **WebSocket endpoint**: `/api/websocket` —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **Ping/Pong**: –º–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **Subscribe**: –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª—ã —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **Fallback**: HTTP polling –∞–∫—Ç–∏–≤–µ–Ω
- ‚úÖ **–ï–¥–∏–Ω—ã–π –ø–æ—Ä—Ç**: WebSocket —á–µ—Ä–µ–∑ API (–ø–æ—Ä—Ç 3001)

## ‚úÖ **–¢–µ—Å—Ç 7: Nginx –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ**

### **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ **API –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ**: `/api/*` ‚Üí `localhost:3001`
- ‚úÖ **WebSocket –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ**: `/api/websocket` ‚Üí `localhost:3001`
- ‚úÖ **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã**: `/` ‚Üí `dist/` –ø–∞–ø–∫–∞
- ‚úÖ **SSL —Ç–µ—Ä–º–∏–Ω–∞—Ü–∏—è**: —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

## üìä **–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

### **–ü—Ä–æ–π–¥–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤: 7/7 (100%)**
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –µ–¥–∏–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞
- ‚úÖ API Endpoints (10/10)
- ‚úÖ Frontend
- ‚úÖ SSL –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- ‚úÖ Supabase –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- ‚úÖ WebSocket –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ Nginx –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞:**
- **API endpoints**: 100-200ms
- **Frontend**: < 1s
- **SSL handshake**: < 500ms
- **Supabase**: < 300ms

### **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:**
- **Uptime**: 100% (–ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞)
- **Error rate**: 0% (–∫—Ä–æ–º–µ RLS, —á—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)
- **Response time**: –í—Å–µ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –Ω–æ—Ä–º—ã

## üéâ **–§–∏–Ω–∞–ª—å–Ω—ã–π –≤–µ—Ä–¥–∏–∫—Ç:**

### **–ü–õ–ê–¢–§–û–†–ú–ê –ü–û–õ–ù–û–°–¢–¨–Æ –ì–û–¢–û–í–ê –ö –ü–†–û–î–ê–ö–®–ï–ù–£!**

### **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ:**
- ‚úÖ **–ï–¥–∏–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –≤—Å–µ —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç 3001
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - –±—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- ‚úÖ **API** - –≤—Å–µ endpoints –æ—Ç–≤–µ—á–∞—é—Ç
- ‚úÖ **Frontend** - –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **SSL** - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- ‚úÖ **Supabase** - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ RLS
- ‚úÖ **WebSocket** - —Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è + fallback
- ‚úÖ **Nginx** - –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí Nginx ‚Üí Next.js (Port 3001) ‚Üí Supabase
     ‚Üì              ‚Üì         ‚Üì              ‚Üì
  Frontend ‚Üê Static Files ‚Üê API + WebSocket ‚Üê Database
```

### **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
pm2 status

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ
pm2 restart ai-platform-backend

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
pm2 logs ai-platform-backend
```

## üöÄ **–ü—Ä–æ–≥—Ä–µ—Å—Å: 100% –ó–ê–í–ï–†–®–ï–ù–û!**

**AI Manager Platform –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

### **–í—Å–µ TODO –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:**
- ‚úÖ –ê—É–¥–∏—Ç backend server
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 404 –æ—à–∏–±–æ–∫
- ‚úÖ WebSocket –ø—Ä–æ–±–ª–µ–º—ã
- ‚úÖ Supabase –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- ‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- ‚úÖ –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è –ø–æ—Ä—Ç–æ–≤
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞, –Ω–∞–¥–µ–∂–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!** üéØ
