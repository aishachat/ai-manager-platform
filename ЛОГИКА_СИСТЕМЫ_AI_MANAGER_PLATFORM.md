# üéØ –õ–û–ì–ò–ö–ê –°–ò–°–¢–ï–ú–´ AI MANAGER PLATFORM

## üìã –û–°–ù–û–í–ù–û–ô –ü–†–ò–ù–¶–ò–ü
**1 –ø—Ä–æ–µ–∫—Ç = 1 –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤**

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

### ü§ñ AI –ê–ì–ï–ù–¢ (1 –Ω–∞ –ø—Ä–æ–µ–∫—Ç)
- **–¢–∞–±–ª–∏—Ü–∞**: `assistants`
- **–°–æ–¥–µ—Ä–∂–∏—Ç**: name, description, avatar, status, setup_data
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–≥–µ–Ω—Ç–µ –ø—Ä–æ–µ–∫—Ç–∞

### ‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ò –ê–ì–ï–ù–¢–ê (1 –Ω–∞–±–æ—Ä –Ω–∞ –ø—Ä–æ–µ–∫—Ç)
- **–¢–∞–±–ª–∏—Ü–∞**: `ai_agent_settings`
- **–°–æ–¥–µ—Ä–∂–∏—Ç**: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ–º–ø—Ç, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥–µ–ª–∏, –≤—ã–±—Ä–∞–Ω–Ω—É—é –Ω–∏—à—É
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≥–µ–Ω—Ç–∞

### üß† RAG –°–ò–°–¢–ï–ú–ê (1 —Å–∏—Å—Ç–µ–º–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ç)
- **–¢–∞–±–ª–∏—Ü—ã**: `knowledge_sources`, `knowledge_chunks`
- **–°–æ–¥–µ—Ä–∂–∏—Ç**: –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã, —á–∞–Ω–∫–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –¥–ª—è RAG –ø–æ–∏—Å–∫–∞

### üìù –ü–†–û–ú–ü–¢–´ (2 —Ç–∏–ø–∞)
- **–°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç**: –û–¥–∏–Ω–∞–∫–æ–≤—ã–π –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –æ—Å–Ω–æ–≤–∞—Ç–µ–ª—è–º–∏ Adapto)
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ–º–ø—Ç**: –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (–≤ ai_agent_settings)

### üé≠ –ù–ò–®–ê (1 –Ω–∞ –ø—Ä–æ–µ–∫—Ç)
- **–¢–∞–±–ª–∏—Ü–∞**: `user_niches`
- **–°–æ–¥–µ—Ä–∂–∏—Ç**: –≤—ã–±—Ä–∞–Ω–Ω—É—é –Ω–∏—à—É –ø—Ä–æ–µ–∫—Ç–∞
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–∞

### üîß –°–ò–°–¢–ï–ú–ê –ö–û–†–†–ï–ö–¢–ò–†–û–í–û–ö (1 –Ω–∞ –ø—Ä–æ–µ–∫—Ç)
- **–¢–∞–±–ª–∏—Ü–∞**: `bot_corrections`
- **–°–æ–¥–µ—Ä–∂–∏—Ç**: –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤ –∞–≥–µ–Ω—Ç–∞
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: RAG —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤

### üåê –ò–ù–¢–ï–ì–†–ê–¶–ò–ò (1 –Ω–∞ –ø—Ä–æ–µ–∫—Ç –∫–∞–∂–¥–∞—è)
- **–í–∏–¥–∂–µ—Ç**: `widget_development_settings`
- **Telegram –±–æ—Ç**: `telegram_settings`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–∞ –≤ –≤–Ω–µ—à–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### üìä CRM –°–ò–°–¢–ï–ú–ê (1 –Ω–∞ –ø—Ä–æ–µ–∫—Ç)
- **–¢–∞–±–ª–∏—Ü—ã**: `dialogs`, `conversations`, `chat_messages`
- **–°–æ–¥–µ—Ä–∂–∏—Ç**: –¥–∏–∞–ª–æ–≥–∏, —Ä–∞–∑–≥–æ–≤–æ—Ä—ã, —Å–æ–æ–±—â–µ–Ω–∏—è
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏

### üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê (1 –Ω–∞ –ø—Ä–æ–µ–∫—Ç + –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è)
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞**: –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø—Ä–æ–µ–∫—Ç—É
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤**: –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞–∂–¥–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### üë• –û–ü–ï–†–ê–¢–û–†–´ –ü–†–û–ï–ö–¢–ê
- **–¢–∞–±–ª–∏—Ü–∞**: `project_members`
- **–°–æ–¥–µ—Ä–∂–∏—Ç**: —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Å —Ä–æ–ª—è–º–∏
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ö–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π

### üîî –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø
- **Telegram –±–æ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö –≤ –ø—Ä–æ–µ–∫—Ç–µ

## üîí –ü–†–ò–ù–¶–ò–ü–´ RLS –ü–û–õ–ò–¢–ò–ö

### üìã –û–°–ù–û–í–ù–û–ï –ü–†–ê–í–ò–õ–û
–í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
```sql
project_id IN (
    SELECT id FROM public.projects WHERE owner_id = auth.uid()
)
```

### üéØ –ò–ó–û–õ–Ø–¶–ò–Ø –î–ê–ù–ù–´–•
- **–ü–æ –ø—Ä–æ–µ–∫—Ç–∞–º**: –î–∞–Ω–Ω—ã–µ –æ–¥–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ –≤–∏–¥–Ω—ã –¥—Ä—É–≥–æ–º—É
- **–ü–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞–º**: –¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –ø—Ä–æ–µ–∫—Ç–∞ –≤–∏–¥–∏—Ç —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
- **–ü–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º**: –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –≤–∏–¥—è—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–æ–≤, –≥–¥–µ –æ–Ω–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∏

### üìä –¢–ê–ë–õ–ò–¶–´ –° PROJECT_ID
1. `assistants` - AI –∞–≥–µ–Ω—Ç—ã
2. `ai_agent_settings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≥–µ–Ω—Ç–æ–≤
3. `knowledge_sources` - –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∑–Ω–∞–Ω–∏–π
4. `knowledge_chunks` - —á–∞–Ω–∫–∏ –∑–Ω–∞–Ω–∏–π
5. `user_niches` - –Ω–∏—à–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤
6. `bot_corrections` - –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏
7. `widget_development_settings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∏–¥–∂–µ—Ç–∞
8. `telegram_settings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram
9. `dialogs` - –¥–∏–∞–ª–æ–≥–∏
10. `conversations` - —Ä–∞–∑–≥–æ–≤–æ—Ä—ã
11. `chat_messages` - —Å–æ–æ–±—â–µ–Ω–∏—è
12. `project_members` - —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤

### üìã –¢–ê–ë–õ–ò–¶–´ –ë–ï–ó PROJECT_ID
1. `users` - –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∏–∑–æ–ª—è—Ü–∏—è –ø–æ user_id)
2. `projects` - –ø—Ä–æ–µ–∫—Ç—ã (–∏–∑–æ–ª—è—Ü–∏—è –ø–æ owner_id)
3. `niches` - —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –Ω–∏—à (–ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø)
4. `niche_synonyms` - —Å–∏–Ω–æ–Ω–∏–º—ã –Ω–∏—à (–ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø)

## üöÄ –õ–û–ì–ò–ö–ê –†–ê–ë–û–¢–´ –°–ò–°–¢–ï–ú–´

### 1Ô∏è‚É£ –°–û–ó–î–ê–ù–ò–ï –ü–†–û–ï–ö–¢–ê
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è 1 AI –∞–≥–µ–Ω—Ç
3. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è 1 –Ω–∞–±–æ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫
4. –í—ã–±–∏—Ä–∞–µ—Ç—Å—è 1 –Ω–∏—à–∞
5. –°–æ–∑–¥–∞–µ—Ç—Å—è 1 –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π
6. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è 1 —Å–∏—Å—Ç–µ–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫

### 2Ô∏è‚É£ –ù–ê–°–¢–†–û–ô–ö–ê –ê–ì–ï–ù–¢–ê
1. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
3. –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ AI
4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∏—à–∏
5. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫

### 3Ô∏è‚É£ –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø
1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∏–¥–∂–µ—Ç–∞ –¥–ª—è —Å–∞–π—Ç–∞
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞
3. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ CRM —Å–∏—Å—Ç–µ–º—ã
4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### 4Ô∏è‚É£ –†–ê–ë–û–¢–ê –°–ò–°–¢–ï–ú–´
1. –ê–≥–µ–Ω—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∫–ª–∏–µ–Ω—Ç–æ–≤
2. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç RAG –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π
3. –ü—Ä–∏–º–µ–Ω—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤
4. –í–µ–¥–µ—Ç –¥–∏–∞–ª–æ–≥–∏ –≤ CRM
5. –°–æ–±–∏—Ä–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### üìä –°–¢–†–£–ö–¢–£–†–ê –î–ê–ù–ù–´–•
- **1 –ø—Ä–æ–µ–∫—Ç** = 1 –∑–∞–ø–∏—Å—å –≤ `projects`
- **1 –∞–≥–µ–Ω—Ç** = 1 –∑–∞–ø–∏—Å—å –≤ `assistants`
- **1 –Ω–∞–±–æ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫** = 1 –∑–∞–ø–∏—Å—å –≤ `ai_agent_settings`
- **1 –Ω–∏—à–∞** = 1 –∑–∞–ø–∏—Å—å –≤ `user_niches`
- **N –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∑–Ω–∞–Ω–∏–π** = N –∑–∞–ø–∏—Å–µ–π –≤ `knowledge_sources`
- **N —á–∞–Ω–∫–æ–≤** = N –∑–∞–ø–∏—Å–µ–π –≤ `knowledge_chunks`
- **N –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫** = N –∑–∞–ø–∏—Å–µ–π –≤ `bot_corrections`

### üîí –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –ø–æ project_id
- –¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –ø—Ä–æ–µ–∫—Ç–∞ –∏–º–µ–µ—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
- –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–æ–≤, –≥–¥–µ –æ–Ω–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∏
- –°–ø—Ä–∞–≤–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–∏—à–∏) –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ–º

### ‚ö° –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨
- –ò–Ω–¥–µ–∫—Å—ã –ø–æ project_id –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
- –ò–Ω–¥–µ–∫—Å—ã –ø–æ owner_id –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞
- –ü—Ä–æ—Å—Ç—ã–µ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö –ø–æ–¥–∑–∞–ø—Ä–æ—Å–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã API

## üìã –ò–¢–û–ì

**–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ "–∫–æ—Ä–æ–±–æ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ"** - –∫–∞–∂–¥—ã–π –ø—Ä–æ–µ–∫—Ç –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –Ω–∏—à—É –∏ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π, —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–∞–Ω–∞–ª—ã —Å–≤—è–∑–∏ –∏ CRM —Å–∏—Å—Ç–µ–º—ã.
