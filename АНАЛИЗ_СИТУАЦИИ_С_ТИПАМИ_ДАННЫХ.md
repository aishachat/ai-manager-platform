# üìä –ê–ù–ê–õ–ò–ó –°–ò–¢–£–ê–¶–ò–ò –° –¢–ò–ü–ê–ú–ò –î–ê–ù–ù–´–•

## ‚úÖ –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—á–∏—Å—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö:
- **`widget_development_settings`**: 6 –∑–∞–ø–∏—Å–µ–π, –≤—Å–µ –≤–∞–ª–∏–¥–Ω—ã–µ UUID ‚úÖ
- **`messenger_contacts`**: –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å
- **`notifications`**: –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

## üéØ –û–¢–í–ï–¢ –ù–ê –í–ê–® –í–û–ü–†–û–°

### **"–ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —á—Ç–æ –≥–¥–µ-—Ç–æ user_id —Ç–∏–ø–∞ text, –∞ –≥–¥–µ-—Ç–æ uuid?"**

**–î–ê, –ï–°–¢–¨ –ü–†–û–ë–õ–ï–ú–´!** –í–æ—Ç –ø–æ—á–µ–º—É:

### üö® **–ü–†–û–ë–õ–ï–ú–´ –° –†–ê–ó–ù–´–ú–ò –¢–ò–ü–ê–ú–ò:**

#### 1. **RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç:**
```sql
-- –û—à–∏–±–∫–∞: text = uuid
CREATE POLICY "test" ON widget_development_settings
FOR ALL USING (user_id = auth.uid())
-- ERROR: operator does not exist: text = uuid
```

#### 2. **JOIN –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–∞–¥–∞—é—Ç:**
```sql
-- –û—à–∏–±–∫–∞: text = uuid
SELECT * FROM users u 
JOIN widget_development_settings wds ON u.id = wds.user_id
-- ERROR: operator does not exist: uuid = text
```

#### 3. **API –∑–∞–ø—Ä–æ—Å—ã –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è:**
- Frontend –ø–µ—Ä–µ–¥–∞–µ—Ç `uuid` –∫–∞–∫ —Å—Ç—Ä–æ–∫—É
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ–∂–∏–¥–∞–µ—Ç `text` –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø–æ–∏—Å–∫–µ

## üîß **–†–ï–®–ï–ù–ò–ï:**

### **–®–ê–ì 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã**
```sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∫—Ä–∏–ø—Ç
–§–ò–ù–ê–õ–¨–ù–ê–Ø_–ü–†–û–í–ï–†–ö–ê_–¢–ò–ü–û–í_–î–ê–ù–ù–´–•.sql
```

### **–®–ê–ì 2: –ò–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö**
```sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∫—Ä–∏–ø—Ç
–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_–¢–ò–ü–û–í_–î–ê–ù–ù–´–•_USER_ID_–û–ë–ù–û–í–õ–ï–ù–ù–´–ô.sql
```

## üí° **–ü–û–ß–ï–ú–£ –≠–¢–û –ö–†–ò–¢–ò–ß–ù–û:**

### **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤:**
- ‚úÖ –í—Å–µ `user_id` –±—É–¥—É—Ç –∏–º–µ—Ç—å —Ç–∏–ø `uuid`
- ‚úÖ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ JOIN –æ–ø–µ—Ä–∞—Ü–∏–∏ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ API –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –±—É–¥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ–π

### **–ë–µ–∑ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚ùå RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚ùå JOIN –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–∞–¥–∞—é—Ç —Å –æ—à–∏–±–∫–∞–º–∏
- ‚ùå API –∑–∞–ø—Ä–æ—Å—ã –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è
- ‚ùå –°–∏—Å—Ç–µ–º–∞ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞

## üöÄ **–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:**

### **–ù–ï–ú–ï–î–õ–ï–ù–ù–û:**
1. –í—ã–ø–æ–ª–Ω–∏—Ç—å `–§–ò–ù–ê–õ–¨–ù–ê–Ø_–ü–†–û–í–ï–†–ö–ê_–¢–ò–ü–û–í_–î–ê–ù–ù–´–•.sql`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ 3 —Ç–∞–±–ª–∏—Ü—ã
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤–∞–ª–∏–¥–Ω—ã

### **–ü–û–°–õ–ï –£–°–ü–ï–•–ê:**
1. –í—ã–ø–æ–ª–Ω–∏—Ç—å `–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_–¢–ò–ü–û–í_–î–ê–ù–ù–´–•_USER_ID_–û–ë–ù–û–í–õ–ï–ù–ù–´–ô.sql`
2. –ò–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö —Å `text` –Ω–∞ `uuid`
3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å RLS –ø–æ–ª–∏—Ç–∏–∫–∏

## üéØ **–û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢:**

### **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –í—Å–µ `user_id` –∏–º–µ—é—Ç —Ç–∏–ø `uuid`
- ‚úÖ –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ API —Å—Ç–∞–±–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

## üìû **–¢–†–ï–ë–£–ï–¢–°–Ø –î–ï–ô–°–¢–í–ò–ï:**

### **–°–ï–ô–ß–ê–°:**
1. –í—ã–ø–æ–ª–Ω–∏—Ç—å `–§–ò–ù–ê–õ–¨–ù–ê–Ø_–ü–†–û–í–ï–†–ö–ê_–¢–ò–ü–û–í_–î–ê–ù–ù–´–•.sql`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
3. –°–æ–æ–±—â–∏—Ç—å –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö

### **–ü–û–°–õ–ï –£–°–ü–ï–•–ê:**
1. –í—ã–ø–æ–ª–Ω–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å RLS –ø–æ–ª–∏—Ç–∏–∫–∏
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É

## üö® **–í–ê–ñ–ù–û:**

**–†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö - —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞!** 

**–ù—É–∂–Ω–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –≤—Å–µ –∫ –µ–¥–∏–Ω–æ–º—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É `uuid` –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã!**
