# üìã –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô –° –û–ß–ò–°–¢–ö–û–ô –î–ê–ù–ù–´–•

## üö® –ü–†–û–ë–õ–ï–ú–ê

### –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
- –í —Ç–∞–±–ª–∏—Ü–∞—Ö —Å `user_id` —Ç–∏–ø–∞ `text` –µ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è —Ç–∏–ø–∞ `"test"`
- –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω—ã –≤ `uuid`
- –ù—É–∂–Ω–æ –æ—á–∏—Å—Ç–∏—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º —Ç–∏–ø–∞

## üîß –†–ï–®–ï–ù–ò–ï

### –®–ê–ì 1: –û—á–∏—Å—Ç–∏—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
```sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∫—Ä–∏–ø—Ç
–û–ß–ò–°–¢–ö–ê_–ù–ï–ö–û–†–†–ï–ö–¢–ù–´–•_–î–ê–ù–ù–´–•_–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô.sql
```

### –®–ê–ì 2: –ò–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
```sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∫—Ä–∏–ø—Ç
–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_–¢–ò–ü–û–í_–î–ê–ù–ù–´–•_USER_ID_–û–ë–ù–û–í–õ–ï–ù–ù–´–ô.sql
```

### –®–ê–ì 3: –ü—Ä–∏–º–µ–Ω–∏—Ç—å RLS –ø–æ–ª–∏—Ç–∏–∫–∏
```sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç—å –≥–æ—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
```

## üéØ –ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–û–°–¢–¨ –î–ï–ô–°–¢–í–ò–ô

### –ù–ï–ú–ï–î–õ–ï–ù–ù–û:
1. –í—ã–ø–æ–ª–Ω–∏—Ç—å `–û–ß–ò–°–¢–ö–ê_–ù–ï–ö–û–†–†–ï–ö–¢–ù–´–•_–î–ê–ù–ù–´–•_–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô.sql`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—á–∏—Å—Ç–∫–∏
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –¥–∞–Ω–Ω—ã–µ —è–≤–ª—è—é—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–º–∏ UUID

### –ü–û–°–õ–ï –£–°–ü–ï–•–ê:
1. –í—ã–ø–æ–ª–Ω–∏—Ç—å `–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_–¢–ò–ü–û–í_–î–ê–ù–ù–´–•_USER_ID_–û–ë–ù–û–í–õ–ï–ù–ù–´–ô.sql`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å RLS –ø–æ–ª–∏—Ç–∏–∫–∏

## üí° –í–ê–ñ–ù–û

### **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç –æ—á–∏—Å—Ç–∫–∏:**
1. **–£–¥–∞–ª—è–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ UUID** - –∑–∞–ø–∏—Å–∏ —Å `user_id` –Ω–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ UUID
2. **–£–¥–∞–ª—è–µ—Ç –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** - –∑–∞–ø–∏—Å–∏ —Å `user_id`, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ `users`
3. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏

### **–ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏:**
- ‚úÖ –í—Å–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è `user_id` –±—É–¥—É—Ç –≤–∞–ª–∏–¥–Ω—ã–º–∏ UUID
- ‚úÖ –í—Å–µ `user_id` –±—É–¥—É—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- ‚úÖ –ú–æ–∂–Ω–æ –±—É–¥–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –æ—à–∏–±–æ–∫

## üöÄ –ì–û–¢–û–í–´–ï –°–ö–†–ò–ü–¢–´

### 1. **–û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö:**
- `–û–ß–ò–°–¢–ö–ê_–ù–ï–ö–û–†–†–ï–ö–¢–ù–´–•_–î–ê–ù–ù–´–•_–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô.sql`

### 2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤:**
- `–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_–¢–ò–ü–û–í_–î–ê–ù–ù–´–•_USER_ID_–û–ë–ù–û–í–õ–ï–ù–ù–´–ô.sql`

### 3. **RLS –ø–æ–ª–∏—Ç–∏–∫–∏:**
- `–®–ê–ì_15_–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_WIDGET_DEVELOPMENT_SETTINGS_–§–ò–ù–ê–õ–¨–ù–´–ô.sql`
- `–®–ê–ì_16_–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_TELEGRAM_SETTINGS_–ü–†–û–ï–ö–¢.sql`
- `–®–ê–ì_18_–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_KNOWLEDGE_SOURCES_–ë–ï–ó_–û–®–ò–ë–û–ö.sql`
- `–®–ê–ì_19_–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_KNOWLEDGE_CHUNKS_–ë–ï–ó_–û–®–ò–ë–û–ö.sql`

## üìû –¢–†–ï–ë–£–ï–¢–°–Ø –î–ï–ô–°–¢–í–ò–ï

### **–°–ï–ô–ß–ê–°:**
1. –í—ã–ø–æ–ª–Ω–∏—Ç—å `–û–ß–ò–°–¢–ö–ê_–ù–ï–ö–û–†–†–ï–ö–¢–ù–´–•_–î–ê–ù–ù–´–•_–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô.sql`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
3. –°–æ–æ–±—â–∏—Ç—å –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö

### **–ü–û–°–õ–ï –£–°–ü–ï–•–ê:**
1. –í—ã–ø–æ–ª–Ω–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å RLS –ø–æ–ª–∏—Ç–∏–∫–∏
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É

## üéØ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

### **–ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏:**
- ‚úÖ –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã
- ‚úÖ –í—Å–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –¥–∞–Ω–Ω—ã–µ –≤–∞–ª–∏–¥–Ω—ã
- ‚úÖ –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–≠—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã!** üö®
